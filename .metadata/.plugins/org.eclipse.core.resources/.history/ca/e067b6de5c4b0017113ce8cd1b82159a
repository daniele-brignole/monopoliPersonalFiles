package monopoli;

import static org.junit.Assert.*;

import org.junit.Before;
import org.junit.Test;
import org.junit.runners.Parameterized.Parameter;
import org.junit.runners.Parameterized.Parameters;

import static org.mockito.Mockito.*;

import java.util.ArrayList;
public class PartitaTest {
	Partita p; Giocatore g1; Giocatore g2; Giocatore g3; ArrayList<Giocatore> gl; ArrayList<Giocatore> glo;
	@Before
	public void setUp() throws Exception {
		g1 =  mock(Giocatore.class);
		g2 =  mock(Giocatore.class);
		g3 = mock(Giocatore.class);
		gl = new ArrayList<Giocatore>();
		gl.add(g1); gl.add(g2); gl.add(g3);
		when(g1.makeSum(1, 1)).thenReturn(5);
		when(g2.makeSum(1, 1)).thenReturn(3);
		when(g3.makeSum(1, 1)).thenReturn(6);
		when(g1.makeChoice()).thenReturn(0);
		when(g2.makeChoice()).thenReturn(2);
		when(g3.makeChoice()).thenReturn(4);
		glo = new ArrayList<Giocatore>(); glo.add(g2);glo.add(g1);glo.add(g3);
	}

	@Test
	public void testCreazione() {
		p= new Partita(3,gl);
		assertEquals(p.getOrder().get(0).getNome(), glo.get(0).getNome());
		assertEquals(p.getOrder().get(1).getNome(), glo.get(1).getNome());
		assertEquals(p.getOrder().get(2).getNome(), glo.get(2).getNome());
	}
	@Test
	public void testCreaPedina(){
		p = new Partita(3,gl);
		p.generaPedine();
		assertEquals(g1.getPedina().getNome(), "fungo");
		assertEquals(g2.getPedina().getNome(), "candela");
		assertEquals(g3.getPedina().getNome(), "fungo");
		
	}

}
